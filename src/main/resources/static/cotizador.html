<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <title>FrancoSalud – Cotizador</title>
 <meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="manifest" href="/manifest.webmanifest">
<meta name="theme-color" content="#1e3a8a">
<link rel="apple-touch-icon" href="/icons/icon-192.png">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
  <style>
    :root {
      /* Paleta del logo Prepagas San Juan */
      --brand-blue: #1e3a8a;   /* azul texto del logo */
      --brand-teal: #12c6c9;   /* turquesa corazón */
      --brand-mint: #21c78a;   /* verde-menta corazón */
      --green: var(--brand-teal); /* compat con estilos previos */
      --muted: #6b7280;
      --light-gray: #f1f5f9;
      --ink: #0f172a;
      --ease: cubic-bezier(.2,.8,.2,1);
    }
    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body {
      font-family: 'Inter', sans-serif;
      background: #fff;
      color: var(--ink);
      margin: 0;
      padding: 2rem 1rem;
    }
    .form-wrapper { max-width: 960px; margin: auto; }
    h1 { text-align: center; color: var(--brand-blue); margin-bottom: 2rem; }

    /* ===== Grid EXACTO según el boceto (3 columnas) ===== */
    form { display: grid; grid-template-columns: repeat(3, 1fr); gap: 1.5rem; }

    /* ===== Apariencia de campos con animaciones ===== */
    .form-group { display: flex; flex-direction: column; opacity: 0; transform: translateY(6px); animation: enter .5s var(--ease) forwards; }
    /* efecto de aparición escalonado */
    .form-group:nth-of-type(1){animation-delay:.02s} .form-group:nth-of-type(2){animation-delay:.06s} .form-group:nth-of-type(3){animation-delay:.1s}
    .form-group:nth-of-type(4){animation-delay:.14s} .form-group:nth-of-type(5){animation-delay:.18s} .form-group:nth-of-type(6){animation-delay:.22s}
    .form-group:nth-of-type(7){animation-delay:.26s} .form-group:nth-of-type(8){animation-delay:.30s}

    label { font-weight: 600; color: var(--brand-blue); font-size: 0.9rem; margin-bottom: 0.35rem; }

    /* Línea inferior animada con turquesa del logo */
    input, select {
      border: none; outline: none; background: transparent; color: var(--ink);
      padding: 0.55rem 0.25rem; font-size: 1rem; position: relative;
      border-bottom: 2px solid #d1d5db; /* línea base suave */
      transition: border-color .22s var(--ease), transform .18s var(--ease), background-size .22s var(--ease);
      background-image: linear-gradient(90deg, var(--brand-mint), var(--brand-teal));
      background-repeat: no-repeat; background-size: 0% 2px; background-position: 0 100%;
    }
    input::placeholder { color: var(--muted); }
    input:focus, select:focus { border-color: transparent; background-size: 100% 2px; transform: translateY(-1px); }

    .full-width { grid-column: 1 / -1; }

    /* ===== Botones con animaciones (ripple + estados) ===== */
    .actions { grid-column: 1 / -1; display: flex; justify-content: start; gap: 1.2rem; margin-top: .25rem; }
    .btn {
      position: relative; overflow: hidden; isolation: isolate;
      padding: .7rem 1.6rem; border: 2px solid var(--brand-blue); background: #fff; color: var(--brand-blue);
      font-weight: 700; font-size: 1rem; border-radius: 12px; cursor: pointer;
      transition: transform .16s var(--ease), background .2s var(--ease), color .2s var(--ease), box-shadow .2s var(--ease), border-color .2s var(--ease);
    }
    .btn:hover { background: linear-gradient(135deg, var(--brand-mint), var(--brand-teal)); color: #fff; border-color: transparent; box-shadow: 0 12px 26px -16px rgba(30,58,138,.45); }
    .btn:active { transform: translateY(1px) scale(.99); }
    .btn.secondary { background: #fff; color: var(--brand-blue); }

    /* Spinner cuando está en loading */
    .btn.loading { pointer-events:none; opacity:.95 }
    .btn.loading::after { content:''; position:absolute; right:12px; top:50%; width:16px; height:16px; border:2px solid currentColor; border-right-color:transparent; border-radius:50%; transform:translateY(-50%); animation: spin .8s linear infinite; }

    /* Efecto ripple */
    .ripple { position:absolute; inset:auto; width:8px; height:8px; border-radius:50%; background: currentColor; opacity:.18; transform: translate(-50%, -50%) scale(1); animation: ripple .6s ease-out forwards; pointer-events:none; z-index:-1; }

    /* ===== Tabla/Grilla con animaciones y estética mejorada ===== */
    .table-card { margin-top: 1.75rem; border-radius: 16px; overflow: hidden; background: #fff; border: 1px solid #e2e8f0; box-shadow: 0 18px 44px -26px rgba(15,23,42,.35), 0 10px 22px -16px rgba(15,23,42,.18); }
    table { width: 100%; border-collapse: collapse; table-layout: fixed; }
    th, td { text-align: left; padding: 14px 20px; }
    thead { background: linear-gradient(90deg, var(--brand-teal) 0%, var(--brand-blue) 100%); color: white; font-weight: 700; letter-spacing:.2px }
    tbody { background: var(--light-gray); }
    tbody tr { transition: background .2s var(--ease); }
    tbody tr:hover { background: #edfafa; }

    /* columnas con ancho fijo para evitar corrimientos */
    col.col-proveedor { width: 26%; }
    col.col-plan      { width: 34%; }
    col.col-num       { width: 20%; }

    /* alineación y dígitos tabulares */
    th.num, td.num { text-align: right; white-space: nowrap; font-variant-numeric: tabular-nums; font-feature-settings: "tnum" 1; }
    td.price-final { font-weight: 800; color: var(--brand-blue); }
    td.price-list  { color: #475569; }

    /* Skeleton shimmer para carga */
    .skeleton { position: relative; height: 18px; border-radius: 6px; overflow: hidden; background: #e5e7eb; }
    .skeleton::after { content:''; position:absolute; inset:0; transform: translateX(-100%); background: linear-gradient(90deg, transparent, rgba(255,255,255,.7), transparent); animation: shimmer 1.1s infinite; }

    /* Filas animadas */
    .row-in { opacity:0; transform: translateY(6px); animation: rowIn .45s var(--ease) forwards; }

    /* ===== Keyframes ===== */
    @keyframes enter { to { opacity:1; transform:none } }
    @keyframes shimmer { 100% { transform: translateX(100%); } }
    @keyframes rowIn { to { opacity:1; transform:none } }
    @keyframes spin { to { transform: translateY(-50%) rotate(360deg); } }
    @keyframes ripple { to { transform: translate(-50%, -50%) scale(24); opacity:0; } }
  </style>
</head>
<body>
  <div class="form-wrapper">
    <h1>FrancoSalud – Cotizador</h1>

    <!-- ===== Formulario (distribución EXACTA del boceto) ===== -->
    <form id="formCotizador">
      <div class="form-group">
        <label for="cantidad">Cantidad</label>
        <input id="cantidad" type="number" min="1" placeholder="" />
      </div>
      <div class="form-group">
        <label for="edadTitular">Edad titular</label>
        <input id="edadTitular" type="number" min="0" placeholder="" />
      </div>
      <div class="form-group">
        <label for="genero">Género</label>
        <select id="genero">
          <option value="" disabled selected>Seleccionar</option>
          <option value="M">Masculino</option>
          <option value="F">Femenino</option>
        </select>
      </div>

      <div class="form-group">
        <label for="afiliacion">Afiliación</label>
        <select id="afiliacion">
          <option value="" disabled selected>Seleccionar</option>
          <option value="1">Relación de dependencia</option>
          <option value="2">Monotributista</option>
          <option value="3">Particular</option>
        </select>
      </div>
      <div class="form-group">
        <label for="sueldo">Sueldo Bruto en $</label>
        <input id="sueldo" type="number" step="0.01" placeholder="0.00" />
      </div>
      <div class="form-group">
        <label for="proveedor">Proveedor</label>
        <select id="proveedor">
          <option value="" selected>Seleccionar</option>
          <option>Jerárquicos</option>
          <option>DoctoRed</option>
          <option>Swiss Medical</option>
        </select>
      </div>
      <div class="form-group">
        <label for="planes">Planes</label>
        <select id="planes">
          <option value="" selected>Seleccionar</option>
        </select>
      </div>

      <div class="actions">
        <button class="btn" id="btnCotizar" type="submit">Obtener cotización</button>
        <button class="btn secondary" id="btnLimpiar" type="button">Limpiar</button>
      </div>
    </form>

    <!-- ===== Grilla de resultados ===== -->
    <div class="table-card">
      <table id="tablaResultados">
        <colgroup>
          <col class="col-proveedor" />
          <col class="col-plan" />
          <col class="col-num" />
          <col class="col-num" />
        </colgroup>
        <thead>
          <tr>
            <th>Proveedor</th>
            <th>Plan</th>
            <th class="num">Precio lista</th>
            <th class="num">Precio final</th>
          </tr>
        </thead>
        <tbody id="tbodyResultados">
          <!-- placeholder inicial -->
          <tr><td colspan="4"><div class="skeleton" style="height:200px"></div></td></tr>
        </tbody>
      </table>
    </div>
  </div>

  <script>
    // Util: ripple en botones
    function attachRipple(btn){
      btn.addEventListener('click', (e)=>{
        const r = document.createElement('span');
        r.className = 'ripple';
        const rect = btn.getBoundingClientRect();
        r.style.left = (e.clientX - rect.left) + 'px';
        r.style.top  = (e.clientY - rect.top)  + 'px';
        btn.appendChild(r);
        setTimeout(()=> r.remove(), 650);
      });
    }
    document.querySelectorAll('.btn').forEach(attachRipple);

    const form  = document.getElementById('formCotizador');
    const tbody = document.getElementById('tbodyResultados');
    const btn   = document.getElementById('btnCotizar');
    const btnL  = document.getElementById('btnLimpiar');
    const fmtAR = new Intl.NumberFormat('es-AR', {style:'currency', currency:'ARS'});

    function showSkeleton(rows=4){
      tbody.innerHTML = '';
      for(let i=0;i<rows;i++){
        const tr = document.createElement('tr');
        const td1 = document.createElement('td');
        const td2 = document.createElement('td');
        const td3 = document.createElement('td');
        const td4 = document.createElement('td');
        td1.innerHTML = '<div class="skeleton" style="width:40%;height:16px"></div>';
        td2.innerHTML = '<div class="skeleton" style="width:70%;height:16px"></div>';
        td3.innerHTML = '<div class="skeleton" style="width:50%;height:16px"></div>';
        td4.innerHTML = '<div class="skeleton" style="width:50%;height:16px"></div>';
        td3.className = 'num';
        td4.className = 'num';
        tr.appendChild(td1); tr.appendChild(td2); tr.appendChild(td3); tr.appendChild(td4);
        tbody.appendChild(tr);
      }
    }

    function renderRows(data){
      tbody.innerHTML = '';
      data.forEach((row, i)=>{
        const tr = document.createElement('tr');
        tr.className = 'row-in';
        tr.style.animationDelay = (i*70)+'ms';

        const tdProv  = document.createElement('td');
        const tdPlan  = document.createElement('td');
        const tdLista = document.createElement('td');
        const tdFinal = document.createElement('td');

        const lista = Number(row.precioLista ?? row.precio ?? 0);
        const final = Number(row.precioFinal ?? row.precio ?? 0);

        tdProv.textContent  = row.proveedor;
        tdPlan.textContent  = row.plan;

        tdLista.textContent = fmtAR.format(lista);
        tdFinal.textContent = fmtAR.format(final);

        tdLista.className = 'num price-list';
        tdFinal.className = 'num price-final';

        tr.appendChild(tdProv); tr.appendChild(tdPlan); tr.appendChild(tdLista); tr.appendChild(tdFinal);
        tbody.appendChild(tr);
      });
    }

    // Demo de animaciones: simula envío y carga
    form.addEventListener('submit', (e)=>{
      e.preventDefault();
      btn.classList.add('loading');
      showSkeleton(5);
      // Simulación de red: reemplazá este setTimeout por tu fetch al backend
      setTimeout(()=>{
        const demo = [
          {proveedor:'Jerárquicos',   plan:'Plan A', precioLista: 120000, precioFinal: 95000},
          {proveedor:'DoctoRed',      plan:'Classic',  precioLista: 112000, precioFinal: 102300},
          {proveedor:'Swiss Medical', plan:'SMG 21',   precioLista: 118700, precioFinal: 118700},
          {proveedor:'Jerárquicos',   plan:'Plan B',   precioLista: 146000, precioFinal: 131200},
          {proveedor:'DoctoRed',      plan:'Premium',  precioLista: 171000, precioFinal: 158900}
        ];
        renderRows(demo);
        btn.classList.remove('loading');
      }, 1100);
    });

    btnL.addEventListener('click', ()=>{
      form.reset();
      showSkeleton(1); // vuelve al placeholder
    });

    // Estado inicial
    showSkeleton(1);
  </script>
  <script>
if ('serviceWorker' in navigator) {
  window.addEventListener('load', () => {
    navigator.serviceWorker.register('/sw.js').catch(console.error);
  });
}
</script>
</body>
</html>



